/**
 * angular-chosen-localytics - Angular Chosen directive is an AngularJS Directive that brings the Chosen jQuery in a Angular way
 * @version v1.2.0
 * @link http://github.com/leocaseiro/angular-chosen
 * @license MIT
 */
var indexOf=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("localytics.directives",[]),angular.module("localytics.directives").directive("chosen",["$timeout",function(e){var t,r,n,i;return r=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/,t=["noResultsText","allowSingleDeselect","disableSearchThreshold","disableSearch","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","placeholderTextMultiple","placeholderTextSingle","searchContains","singleBackstrokeDelete","displayDisabledOptions","displaySelectedOptions","width"],i=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},n=function(e){var t;if(angular.isArray(e))return 0===e.length;if(angular.isObject(e))for(t in e)if(e.hasOwnProperty(t))return!1;return!0},{restrict:"A",require:"?ngModel",priority:1,link:function(a,s,l,o){var d,u,c,f,h,g,p,y,b,v,$,w,x;return a.disabledValuesHistory=a.disabledValuesHistory?a.disabledValuesHistory:[],s.addClass("localytics-chosen"),p=a.$eval(l.chosen)||{},angular.forEach(l,function(e,r){return indexOf.call(t,r)>=0?p[i(r)]="{{"===String(s.attr(l.$attr[r])).slice(0,2)?e:a.$eval(e):void 0}),v=function(){var e,t;return e={},t=!1,angular.forEach(a.disabledValuesHistory,function(e){e.hasOwnProperty(s.context.id)&&(e[s.context.id]=s.context.disabled,t=!0)}),t||(e[s.context.id]=s.context.disabled,a.disabledValuesHistory.push(e)),s.addClass("loading").attr("disabled",!0).trigger("chosen:updated")},$=function(){var e;return e=!1,angular.forEach(a.disabledValuesHistory,function(t){e=t.hasOwnProperty(s.context.id)?t[s.context.id]:e}),s.removeClass("loading").attr("disabled",e).trigger("chosen:updated")},d=null,u=null,f=!1,h=function(){return d?s.trigger("chosen:updated"):(d=s.chosen(p),u=d.default_text)},b=function(){return f=!1,s.attr("data-placeholder",u).trigger("chosen:updated")},c=function(){return f=!0,s.attr("data-placeholder",d.results_none_found).attr("disabled",!0).trigger("chosen:updated")},o?(y=o.$render,o.$render=function(){return y(),h()},l.multiple&&(x=function(){return o.$viewValue},a.$watch(x,o.$render,!0))):h(),l.$observe("disabled",function(){return s.trigger("chosen:updated")}),l.ngOptions&&o?(g=l.ngOptions.match(r),w=g[7],a.$watchCollection(w,function(t,r){var i;return i=e(function(){return angular.isUndefined(t)?v():(f&&b(),$(),n(t)&&!l.allowEmptyResultsList?c():void 0)})}),a.$on("$destroy",function(t){return"undefined"!=typeof timer&&null!==timer?e.cancel(timer):void 0})):void 0}}}]);